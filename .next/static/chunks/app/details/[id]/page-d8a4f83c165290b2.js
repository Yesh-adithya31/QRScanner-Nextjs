(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[78],{4885:function(e,t,r){Promise.resolve().then(r.bind(r,3913))},3913:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(7437),d=r(2265),i=r(3198),n=r(4033),l=r(9804),a=e=>{let{product:t}=e,r=(0,i.I0)(),d=(0,n.useRouter)(),a=e=>{let t={id:e.id,name:e.name,imgurl:e.image_url,price:e.price,quantity:1,maxQty:e.quantity};r((0,l.Xq)(t)),d.push("/cart")};return(0,s.jsx)("div",{className:"p-4 w-full bg-white md:hidden",children:(0,s.jsxs)("div",{className:"h-full  overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 md:p-6",children:[(0,s.jsx)("h2",{className:"text-xl text-black font-semibold title-font mb-6",children:t.name}),(0,s.jsxs)("div",{className:"flex items-center justify-center sm:h-64 md:h-80 mb-6",children:[(0,s.jsx)("img",{className:" object-center border-8 border-gray-500 border-opacity-60 rounded-lg",src:t.image_url,alt:t.name}),(0,s.jsx)("div",{className:""})]}),(0,s.jsxs)("p",{className:"text-base md:text-lg font-medium text-gray-500 mb-2 ",children:["LKR ",t.price]}),(0,s.jsxs)("div",{className:"mb-2 md:mb-3 ",children:[(0,s.jsx)("h3",{className:"text-gray-500 text-sm md:text-xs tracking-widest title-font mb-1",children:"Category:"}),(0,s.jsx)("span",{className:"inline-block border rounded-full py-1 px-2 text-xs font-semibold text-gray-700 mr-2",children:t.category},t.category)]}),(0,s.jsxs)("div",{className:" mb-10 md:mb-3",children:[(0,s.jsx)("h3",{className:"text-gray-500 text-sm tracking-widest title-font mb-1",children:"Details"}),(0,s.jsx)("p",{className:"text-black text-sm md:text-base leading-relaxed text-justify",children:t.description})]})]}),(0,s.jsx)("div",{className:"bg-white p-4 fixed bottom-0 left-0 right-0",children:(0,s.jsxs)("div",{className:"flex justify-center",children:[(0,s.jsx)("button",{className:"bg-indigo-700 text-white font-bold px-7 py-2 rounded-lg",onClick:()=>a(t),children:"Add to Cart"}),(0,s.jsx)("button",{className:"text-indigo-500 font-bold border-2 py-2 px-6 focus:outline-none hover:text-indigo-600  rounded-lg ml-4",onClick:()=>d.push("/"),children:"Add Another"})]})})]})})},c=r(9742),o=()=>{let[e,t]=(0,d.useState)(""),r=(0,i.I0)(),n=(0,i.v9)(e=>e.product.product),l=(0,i.v9)(e=>e.product.loading),o=(0,i.v9)(e=>e.product.error);return(0,d.useEffect)(()=>{t(window.location.pathname.split("/")[2]),e&&(r((0,c.vb)()),fetch("/codemap/".concat(e)).then(e=>e.json()).then(e=>{r((0,c.Hl)(e[0]))}).catch(e=>{r((0,c.aq)(e))}))},[e,r]),(0,s.jsx)("div",{className:"flex flex-wrap h-screen md:hidden",children:l?(0,s.jsx)("div",{className:"p-4 w-full bg-white md:hidden",children:(0,s.jsx)("div",{className:"h-full  overflow-hidden justify-center",children:(0,s.jsxs)("div",{className:"p-4 md:p-6",children:[(0,s.jsx)("p",{className:"text-white font-bold bg-gray-600 text-xl p-4 rounded-md",children:"Product is Loading......"}),(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500 border-opacity-75"})]})})}):o?(0,s.jsx)("div",{className:"p-4 w-full bg-white md:hidden",children:(0,s.jsx)("div",{className:"h-full  overflow-hidden justify-center",children:(0,s.jsx)("div",{className:"p-4 md:p-6",children:(0,s.jsxs)("p",{className:"text-white bg-red-400 text-xl p-4 rounded-md",children:["Error: ",o.message]})})})}):n?n.product?(0,s.jsx)(a,{product:n.product}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"p-4 md:w-1/2 lg:w-1/3 bg-white md:hidden",children:(0,s.jsx)("div",{className:"h-full  overflow-hidden justify-center",children:(0,s.jsx)("div",{className:"p-4 md:p-6",children:(0,s.jsx)("p",{className:"text-white bg-red-400 text-xl p-4 rounded-md",children:'Error: "There is no any Item to Display."'})})})})}):null})}},9804:function(e,t,r){"use strict";r.d(t,{Xq:function(){return n},cl:function(){return l}});var s=r(3264),d=r(64);let i=(0,d.oM)({name:"cart",initialState:{cartItems:[]},reducers:{addToCart:(e,t)=>{let r=t.payload,d=e.cartItems.find(e=>e.id===r.id);d?(d.quantity+=r.quantity,(0,s.uC)([...e.cartItems])):((0,s.uC)([...e.cartItems,r]),e.cartItems.push(r))},removeItem:(e,t)=>{e.cartItems=e.cartItems.filter(e=>e.id!==t.payload)}}}),{addToCart:n,removeItem:l}=i.actions;t.ZP=i.reducer},9742:function(e,t,r){"use strict";r.d(t,{Hl:function(){return n},aq:function(){return l},vb:function(){return i}});var s=r(64);let d=(0,s.oM)({name:"product",initialState:{product:null,loading:!1,error:null},reducers:{fetchProductStart:e=>{e.loading=!0,e.error=null},fetchProductSuccess:(e,t)=>{e.loading=!1,e.product=t.payload},fetchProductFailure:(e,t)=>{e.loading=!1,e.error=t.payload}}}),{fetchProductStart:i,fetchProductSuccess:n,fetchProductFailure:l}=d.actions;t.ZP=d.reducer},3264:function(e,t,r){"use strict";r.d(t,{LL:function(){return l},uC:function(){return n},zV:function(){return i}});let s=()=>!0,d=()=>{if(s())return window.localStorage},i=()=>{var e;let t=null===(e=d())||void 0===e?void 0:e.getItem("cartItems");return t?JSON.parse(t):[]},n=e=>{var t;null===(t=d())||void 0===t||t.setItem("cartItems",JSON.stringify(e))},l=()=>{var e;null===(e=d())||void 0===e||e.setItem("cartItems",JSON.stringify([]))}},4033:function(e,t,r){e.exports=r(8165)}},function(e){e.O(0,[713,971,596,744],function(){return e(e.s=4885)}),_N_E=e.O()}]);