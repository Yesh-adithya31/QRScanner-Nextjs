(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{3351:function(e,t,r){Promise.resolve().then(r.bind(r,722))},722:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(7437);r(2265);var l=r(3198),i=r(9804),n=r(3264),a=e=>{let{cart:t}=e,r=(0,l.v9)(e=>e.cart.cartItems),a=(0,l.I0)(),c=e=>{a((0,i.cl)(e));let t=r.filter(t=>t.id!==e);(0,n.uC)(t)};return(0,s.jsxs)("div",{className:"md:hidden flex items-center border-2 border-gray-300 p-2 w-full mt-5 bg-white rounded-lg",children:[(0,s.jsx)("div",{className:"flex-shrink-0  flex items-center justify-center mr-4",children:(0,s.jsx)("img",{className:"w-20 h-20 object-cover rounded-lg",src:t.imgurl,width:500,height:500,alt:"Product Image"})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-purple-800 whitespace-pre-line",children:t.name}),(0,s.jsxs)("p",{className:"text-gray-500",children:["LKR. ",t.price.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("h3",{className:"text-md font-small text-black",children:"Qty"}),(0,s.jsx)("p",{className:"text-gray-500",children:t.quantity})]}),(0,s.jsxs)("button",{className:"text-red-500 font-semibold",onClick:()=>c(t.id),children:[" ",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M6.293 6.293a1 1 0 011.414 0L10 8.586l2.293-2.293a1 1 0 111.414 1.414L11.414 10l2.293 2.293a1 1 0 11-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 01-1.414-1.414L8.586 10 6.293 7.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},c=r(4033),d=r(9222),o=e=>{let{cartItems:t}=e,r=(0,c.useRouter)();return(0,s.jsxs)("div",{className:"mx-auto w-full h-screen p-5 bg-white md:hidden ",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4 text-black",children:"Shopping Cart"}),(0,s.jsx)("div",{className:"space-y-4",children:t.length>0?t.map(e=>(0,s.jsx)(a,{cart:e},e.id)):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex items-center border-gray-300 p-5 w-full mt-5 bg-gray-300 rounded",children:(0,s.jsx)("p",{className:"text-gray-600 text-xl mb-4",children:"There is no cart items."})})})}),(0,s.jsx)("div",{className:"bg-white p-4 fixed bottom-0 left-0 right-0",children:(0,s.jsxs)("div",{className:"flex justify-center",children:[(0,s.jsx)("button",{className:"bg-indigo-700 text-white font-bold px-7 py-2 rounded-lg",onClick:()=>{let e=t.map(e=>e.id.toString());d.Z.post("/product/getCheckoutURL",{values:e}).then(e=>{console.log("Checkout response:",e.data.url),r.push(e.data.url),(0,n.LL)()}).catch(e=>{console.error("Checkout failed:",e)})},children:"Checkout"}),(0,s.jsx)("button",{className:"bg-indigo-700 text-white font-bold px-7 py-2 rounded-lg ml-4",onClick:()=>r.push("/"),children:"Add Another"})]})})]})},m=()=>{let e=(0,l.v9)(e=>e.cart.cartItems);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-wrap h-screen md:hidden",children:(0,s.jsx)(o,{cartItems:e})}),(0,s.jsx)("div",{className:"flex items-center justify-center h-screen bg-white",children:(0,s.jsx)("div",{className:"hidden md:block text-center md:w-1/2 lg:w-1/3",children:(0,s.jsx)("p",{className:"text-gray-600 text-xl mb-4",children:"This is a mobile view application only. It doesn't support web view."})})})]})}},9804:function(e,t,r){"use strict";r.d(t,{Xq:function(){return n},cl:function(){return a}});var s=r(3264),l=r(64);let i=(0,l.oM)({name:"cart",initialState:{cartItems:[]},reducers:{addToCart:(e,t)=>{let r=t.payload,l=e.cartItems.find(e=>e.id===r.id);l?(l.quantity+=r.quantity,(0,s.uC)([...e.cartItems])):((0,s.uC)([...e.cartItems,r]),e.cartItems.push(r))},removeItem:(e,t)=>{e.cartItems=e.cartItems.filter(e=>e.id!==t.payload)}}}),{addToCart:n,removeItem:a}=i.actions;t.ZP=i.reducer},3264:function(e,t,r){"use strict";r.d(t,{LL:function(){return a},uC:function(){return n},zV:function(){return i}});let s=()=>!0,l=()=>{if(s())return window.localStorage},i=()=>{var e;let t=null===(e=l())||void 0===e?void 0:e.getItem("cartItems");return t?JSON.parse(t):[]},n=e=>{var t;null===(t=l())||void 0===t||t.setItem("cartItems",JSON.stringify(e))},a=()=>{var e;null===(e=l())||void 0===e||e.setItem("cartItems",JSON.stringify([]))}}},function(e){e.O(0,[713,706,971,596,744],function(){return e(e.s=3351)}),_N_E=e.O()}]);